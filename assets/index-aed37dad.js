(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function c(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=c(r);fetch(r.href,n)}})();const d=[{id:"1",nome:"Hamburgão Top",preco:25.5,nomeArquivoImagem:"produto1.png",bebida:!1},{id:"2",nome:"Hamburgão Menos Top",preco:20,nomeArquivoImagem:"produto2.png",bebida:!1},{id:"3",nome:"Batata Frita",preco:15,nomeArquivoImagem:"produto3.jpg",bebida:!0}];function l(e,t){localStorage.setItem(e,JSON.stringify(t))}function E(e){return JSON.parse(localStorage.getItem(e))}const o=E("carrinho")??{};function B(){document.getElementById("carrinho").classList.remove("right-[-350px]"),document.getElementById("carrinho").classList.add("right-[0px]")}function v(){document.getElementById("carrinho").classList.remove("right-[0px]"),document.getElementById("carrinho").classList.add("right-[-350px]")}function L(){const e=document.getElementById("fecharCarrinho"),t=document.getElementById("abrirCarrinho");document.getElementById("finalizar-compra").addEventListener("click",C),e.addEventListener("click",v),t.addEventListener("click",B)}function f(e){delete o[e],l("carrinho",o),s(),b()}function g(e){o[e]++,l("carrinho",o),s(),h(e)}function x(e){if(o[e]===1){f(e);return}o[e]--,l("carrinho",o),s(),h(e)}function h(e){const c=d.find(i=>i.id===e).preco*o[e];document.getElementById(`quantidade-${e}`).innerText=o[e],document.getElementById(`preco-${e}`).innerText=`${c.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}`}function y(e){const t=d.find(u=>u.id===e),c=document.getElementById("produtos-carrinho"),i=document.createElement("article"),r=["flex","items-center","bg-teal-100","rounded-lg","p-1","relative"];for(const u of r)i.classList.add(u);const n=t.preco*o[e],a=`<button id="remover-item-${t.id}" class="absolute top-0 right-1"><i
            class="fa-solid fa-circle-xmark text-teal-500 hover:text-teal-900"></i></button>
        <img src="assets/${t.nomeArquivoImagem}" class="h-14 rounded-lg" alt="">
        <div class="p-2 flex flex-col justify-between">
            <p class="text-teal-900 text-sm">${t.nome}</p>
            <p class="text-green-700 text-lg" id="preco-${t.id}">${n.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}</p>
        </div>
        <div class="flex gap-2 text-lg text-teal-950 items-end absolute right-2 bottom-0">
            <button id="decrementar-produto-${t.id}">-</button>
            <p id="quantidade-${t.id}" >${o[t.id]}</p>
            <button id="incrementar-produto-${t.id}">+</button>
        </div>`;i.innerHTML=a,c.appendChild(i),document.getElementById(`decrementar-produto-${t.id}`).addEventListener("click",()=>x(t.id)),document.getElementById(`incrementar-produto-${t.id}`).addEventListener("click",()=>g(t.id)),document.getElementById(`remover-item-${t.id}`).addEventListener("click",()=>f(t.id))}function b(){const e=document.getElementById("produtos-carrinho");e.innerHTML="";for(const t in o)y(t)}function I(e){if(e in o){g(e);return}o[e]=1,l("carrinho",o),s(),y(e)}function s(){const e=document.getElementById("preco-total");let t=0;for(const c in o)t+=d.find(i=>i.id===c).preco*o[c];e.innerText=`Total:R$ ${t}`}function C(){Object.keys(o).length!==0&&(window.location.href=window.location.origin+"/checkout.html")}function $(){for(const e of d){const t=`
        <div class='shadow-xl shadow-slate-400 w-48 m-2 flex justify-between flex-col p-2 rounded-sm group ${e.bebida?"bebida":"porcao"}' id="card-produto-${e.id}">
            <img class="my-3 rounded-sm group-hover:scale-110 duration-300" src="assets/${e.nomeArquivoImagem}" alt="" srcset="">
            <p class='text-sm'>${e.nome}</p>
            <p class='text-sm'>${e.preco.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}</p>
            <button class="bg-teal-950 hover:bg-teal-800 text-slate-300 hover:text-teal-50" id="adicionar-${e.id}"><i class="fa-solid fa-cart-plus"></i></button>
        </div>`;document.getElementById("container-produto").innerHTML+=t}for(const e of d)document.getElementById(`adicionar-${e.id}`).addEventListener("click",()=>I(e.id))}const m=document.getElementById("container-produto");function p(){const e=Array.from(m.getElementsByClassName("hidden"));for(const t of e)t.classList.remove("hidden")}function A(){p();const e=Array.from(m.getElementsByClassName("bebida"));for(const t of e)t.classList.add("hidden")}function T(){p();const e=Array.from(m.getElementsByClassName("porcao"));for(const t of e)t.classList.add("hidden")}function w(){document.getElementById("exibir-Todos").addEventListener("click",p),document.getElementById("exibir-Bebidas").addEventListener("click",T),document.getElementById("exibir-Porcoes").addEventListener("click",A)}$();L();b();s();w();
